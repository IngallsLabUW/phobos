**********Questions and TODO Items**********

Functions are less flexible, and exist in script form rather than package form (or sourced file form) due to time restraints. If we want to change that setup, some functions will need to be checked and made applicable to all confidence levels. They currently can't live outside their script.

We might want to reconsider the voltages and those interact with the matching, particularly after confidence level1 (?). They are still creating big row explosions like before and slowing stuff down in general.

Acquiring the external stuff is going to take some work.

**********Set up data**********

https://doi.org/10.1038/nmeth.3393 for MSDIAL

In order to ensure that the MS2 (and MS1, rt, etc.) matching is accurate, we need to be comparing known data before we compare unknowns.
Horai et al. 2010 recommends taking a consensus of MS2 data for comparison, as reproducibility of MS2 data is notoriously difficult.

Therefore, we ran all of the Ingalls Standards 5 times (thanks Laura) and obtained five sets of MS2 data for each compound.
We then took a consensus of four of the runs to create "theoretical data"; i.e, something to compare the fifth run to for accuracy.
Because the fifth run is being compared to very similar runs, that removes variation that might interfere with comparisons.

Taking a consensus of the MS2 data:
- The data is scaled to an intensity of 100 and all intensities below 0.5 are removed.
- Fragments are grouped exclusively on mz, and assigned a group number for those that fall within a user-defined ppm range.
- Find clusters that are robust across files using hierarchical clustering in mz space, and cut the tree at a height that produces
  the most groups with 5 +/-1 fragments, or 10 +/- fragments to account for "superimposed lollipops" (ask Will).



